<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Maze Generator</title>
</head>
<body>
  <label>Width: <input id="width" type="range" min="1" max="100" value="80" /></label>
  <label>Height: <input id="height" type="range" min="1" max="100" value="45" /></label>
  <fieldset>
    <legend>Algorithm</legend>
    <label><input type="radio" name="algo" value="backtracking" checked /> Reverse Backtracking (latest)</label>
    <label><input type="radio" name="algo" value="prims" /> Prim's</label>
    <label><input type="radio" name="algo" value="oldest" /> Oldest</label>
    <label><input type="radio" name="algo" value="middle" /> Middle</label>
  </fieldset>
  <div id="maze"></div>

  <style>
    table {
      border-spacing: 0;
    }
    td {
      border-radius: 10px;
    }
  </style>

  <script src="./index.js"></script>
  <script>
    const widthInput = document.getElementById('width');
    const heightInput = document.getElementById('height');
    const mazeEl = document.getElementById('maze');
    const algoInputs = document.querySelectorAll('input[name="algo"]');

    function generateMaze() {
      const w = parseInt(widthInput.value);
      const h = parseInt(heightInput.value);
      const algo = document.querySelector('input[name="algo"]:checked').value;
      const maze = new GrowingTreeMaze(w, h);

      if (algo === 'backtracking') {
        maze.generate(() => 0);
        console.log(maze.printHTML());
      } else if (algo === 'prims') {
        maze.generate(queue => Math.floor(Math.random() * queue.length))
        console.log(maze.printHTML());
      } else if (algo === 'oldest') {
        maze.generate(queue => queue.length-1)
        console.log(maze.printHTML());
      } else if (algo === 'middle') {
        maze.generate(queue => Math.floor(queue.length/2))
        console.log(maze.printHTML());
      }

      mazeEl.innerHTML = maze.printHTML();
    }

    widthInput.addEventListener('input', generateMaze);
    heightInput.addEventListener('input', generateMaze);
    algoInputs.forEach(input => input.addEventListener('change', generateMaze));

    generateMaze();
  </script>
</body>
</html>
